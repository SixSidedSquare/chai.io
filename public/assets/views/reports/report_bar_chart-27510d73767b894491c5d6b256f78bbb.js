(function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};ChaiIo.Views.ReportsBar_chart=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.preRender=function(){return this.margin={top:20,right:20,bottom:30,left:40},this.width=960-this.margin.left-this.margin.right,this.height=500-this.margin.top-this.margin.bottom,this.x=d3.scale.ordinal().rangeRoundBands([0,this.width],.1),this.y=d3.scale.linear().range([this.height,0]),this.xAxis=d3.svg.axis().scale(this.x).orient("bottom"),this.yAxis=d3.svg.axis().scale(this.y).orient("left").tickFormat(d3.format("d"))},n.prototype.postRender=function(){var e,t,n,r,i,s=this;return i=this,r=this.getDataForChart(),n=this.model.get("columns"),e=n[0],t=n[1],this.x.domain(_.pluck(r,e)),this.y.domain([0,_.max(_.pluck(r,t))]),this.svg=d3.select(this.el).append("svg").attr("width",this.width+this.margin.left+this.margin.right).attr("height",this.height+this.margin.top+this.margin.bottom).append("g").attr("transform","translate("+this.margin.left+", "+this.margin.top+")"),this.svg.append("g").attr("class","x axis").attr("transform","translate(0, "+this.height+")").call(this.xAxis),this.svg.append("g").attr("class","y axis").call(this.yAxis).append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").style("text-anchor","end").text(t),this.svg.selectAll(".bar").data(r).enter().append("rect").attr("class","bar").attr("x",function(t){return i.x(t[e])}).attr("width",this.x.rangeBand()).attr("y",function(e){return i.y(e[t])}).attr("height",function(e){return i.height-i.y(e[t])}),this.svg.selectAll("text").data(r).enter().append("text").attr("class","text").attr("x",this.x).attr("y",function(e){return i.y(e[t])+i.y.rangeBand()/2}).attr("dx",-5).attr("dy","1em").attr("text-anchor","end").text(String)},n.prototype.getDataForChart=function(){return this.model.get("data")},n.prototype.getTemplateName=function(){return"report_bar_chart"},n}(ChaiIo.Views.ReportsIndex)}).call(this);