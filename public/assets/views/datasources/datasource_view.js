(function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};ChaiIo.Views.NewDatasource=function(e){function n(e){this.events={"click #btn_test_connection":"testConnection"},n.__super__.constructor.call(this,e)}return t(n,e),n.prototype.getConfig=function(e){return $("#datasource_config_"+e).val()},n.prototype.getHost=function(){return this.getConfig("host")},n.prototype.getUser=function(){return this.getConfig("user")},n.prototype.getPassword=function(){return this.getConfig("password")},n.prototype.getDatabase=function(){return this.getConfig("database")},n.prototype.getCredentialsFromForm=function(){var e;return e={host:this.getHost(),user:this.getUser(),password:this.getPassword(),database:this.getDatabase()},e},n.prototype.getParams=function(){return{datasource:this.getCredentialsFromForm()}},n.prototype.testConnection=function(){var e=this;return this.sendRequest("/datasources/test",this.getParams(),function(t){return e.testOnLoad(t)},!1,"POST")},n.prototype.testOnLoad=function(e){return e.success?this.notifySuccess("Connection test Successful!!"):this.notifyError("Connection test failed!!")},n}(ChaiIo.Views.Base)}).call(this);